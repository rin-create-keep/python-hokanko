📝 コマンドライン ToDo 管理ツール
概要

このスクリプトは、ターミナル上で動作するシンプルかつ高機能な ToDoリスト管理ツール です。
ファイル（todo_list.txt）にタスクを保存し、再起動後も内容が保持されます。
複数のタスク追加・更新・削除・完了処理、期限・優先度・カテゴリ管理、Unicodeや絵文字対応の整形表示などに対応しています。

🔧 主な機能
機能名	内容
🆕 追加	タスクを新規登録（複数同時追加可）
📋 表示	登録済みタスクを一覧表示（色分け・期限超過判定あり）
🗑 削除	指定したタスクを複数同時削除（例: 1,3-5）
✏️ 更新	複数タスクをまとめて編集
✅ 完了	タスクを完了状態に変更（複数指定可）
🔍 検索	キーワードでタイトル・カテゴリを検索
📂 まとめて追加	ファイルから一括インポート（CSV形式）
↕️ ソート	実行のたびに「優先度+期限」／「期限順」を切り替え
💾 自動保存	操作後は自動で todo_list.txt に保存
📦 動作環境

Python 3.8以上

OS依存なし（Windows / macOS / Linux 対応）

文字装飾にはANSIカラーを使用（Windows Terminal, macOS Terminalなど推奨）

🚀 実行方法
python todo.py


コマンド入力待機状態になります。

コマンド(追加,表示,削除,更新,完了,ソート,検索,まとめて追加,終了):

🧭 コマンド詳細
🔹 1. タスク追加
追加


例：

タスク名(複数;区切り),カテゴリ,優先度(1〜4),期限


入力例：

買い物に行く;掃除をする,私用,3,2025-10-10


→ 2件のタスクが「私用」カテゴリ・優先度「中」として登録。

🔹 2. タスク表示
表示


タスクが一覧で出力されます。

[完]：完了済み

[未]：未完了

[超過]：期限超過
カテゴリに応じて色分けされます。

🔹 3. タスク削除
削除


複数指定・範囲指定が可能です。
例：

1,3-5,8


→ No.1, No.3〜5, No.8 を削除。

🔹 4. タスク更新
更新


同様に複数指定可能です。
例：

1,3-4


→ 指定タスクごとに順に新しいタイトル・カテゴリ・優先度・期限を入力できます。
空欄（Enter）でスキップ可能。

🔹 5. タスク完了
完了


複数指定でまとめて完了可能。
例：

2-4,6

🔹 6. タスク検索
検索


タイトルまたはカテゴリにキーワードを含むタスクを一覧表示します。
例：

検索キーワード: 買い物

🔹 7. ソート
ソート


奇数回目の実行 → 優先度＋期限順

偶数回目の実行 → 期限順
交互に並び替えが行われます。

🔹 8. まとめて追加（インポート）
まとめて追加


CSV形式のテキストファイルを読み込みます。

ファイル形式例（import_todo.txt）：
買い物に行く,私用,3,2025-11-10
資料作成,仕事,2,2025-11-05
散歩,未分類,4,


※ # で始まる行は無視されます。

🔹 9. 終了
終了


プログラムを終了します。
タスクは自動的に保存済みです。

🎨 表示仕様
状態	説明	色
[完]	完了済み	緑
[未]	未完了	白
[超過]	期限超過	赤
カテゴリ「仕事」	青	
カテゴリ「勉強」	紫	
カテゴリ「買い物」	黄	
🗂 保存ファイル構造

todo_list.txt に以下の形式で保存されます：

タイトル|カテゴリ|優先度|期限|状態


例：

買い物に行く|私用|3|2025-10-10|未
資料作成|仕事|2|2025-11-01|完

💡 ユニコード対応

絵文字や全角文字を正しく整列して表示するために
unicodedata モジュールを用いた文字幅補正を実装しています。
例：

🧹 掃除 → 幅2文字扱いで揃う

📘 ライセンス

MIT License
自由に改変・利用・再配布可能です。

🧑‍💻 作者メモ

コマンドラインでのシンプル操作を重視

GUI不要で軽量

ファイル破損時も自動復旧を試行

Unicode文字や絵文字も綺麗に整列表示